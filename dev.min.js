const openPlayerBtn=document.querySelector("#openPlayer"),playerModal=document.querySelector("#playerModal"),closeButton=document.querySelector("#closeButton"),songTitle=document.querySelector("#songTitle"),songComposer=document.querySelector("#songComposer"),songPerformer=document.querySelector("#songPerformer"),prevButton=document.querySelector("#prevButton"),playButton=document.querySelector("#playButton"),nextButton=document.querySelector("#nextButton"),volumeSlider=document.querySelector("#volumeSlider"),sourceButton=document.querySelector("#sourceButton"),wikiBtn=document.querySelectorAll(".wikiBtn"),mainBox=document.querySelector(".mainBox"),countdownTitle=document.querySelector(".countdownTitle"),countdownDateTitle=document.querySelector(".countdownDateTitle"),progressBar=document.querySelector("#song-progress-bar"),progress=document.querySelector("#song-progress"),progressController=document.querySelector("#song-progress-controller"),timer=document.querySelector("#song-timer"),section=document.querySelector(".section");var countDownDate=new Date("Apr 30, 2023 00:00:00").getTime(),nextCountDownDate=new Date("Sep 2, 2023 00:00:00").getTime(),x=setInterval(function(){var e=(new Date).getTime(),n=countDownDate-e;if(document.getElementById("day").innerHTML=Math.floor(n/864e5),document.getElementById("hour").innerHTML=Math.floor(n%864e5/36e5),document.getElementById("minute").innerHTML=Math.floor(n%36e5/6e4),document.getElementById("second").innerHTML=Math.floor(n%6e4/1e3),countDownDate===new Date("Apr 30, 2023 00:00:00").getTime()?(wikiBtn.forEach(e=>e.href="https://vi.wikipedia.org/wiki/Sự_kiện_30_tháng_4_năm_1975"),countdownTitle.innerHTML="THỐNG NHẤT ĐẤT NƯỚC",countdownDateTitle.innerHTML="30/4",mainBox.style.background="linear-gradient(to bottom, #ee1010ee 0%, #ee1010e8 50%, #0083fdec 50%, #0083fde8 100%)"):countDownDate===new Date("Sep 2, 2023 00:00:00").getTime()&&(wikiBtn.forEach(e=>e.href="https://vi.wikipedia.org/wiki/Ngày_Quốc_khánh_(Việt_Nam)"),countdownTitle.innerHTML="QUỐC KHÁNH VIỆT NAM",countdownDateTitle.innerHTML="2/9",mainBox.style.backgroundImage="linear-gradient(175deg,#ee1010d5 0%, #cc0606 100%)"),section.style.display="block",0>n){var t=new Date(countDownDate=nextCountDownDate);nextCountDownDate=3===t.getMonth()&&30===t.getDate()?new Date(t.getFullYear(),8,2).getTime():new Date(t.getFullYear()+1,3,30).getTime()}},1e3);let currentSongIndex=0,songs=[{title:"Vui Mở Đường",composer:"Đỗ Nhuận",performer:"NSƯT Hữu Nội - Hợp ca nam nữ Đài TNVN",src:"/soundtrack/vuimoduong.mp3",nguon:"https://bcdcnt.net/bai-hat/vui-mo-duong-731.html",thongtinthem:""},{title:"Đất Nước Trọn Niềm Vui",composer:"Hoàng Hà",performer:"NSƯT Hữu Nội",src:"/soundtrack/datnuoctronniemvui.mp3",nguon:"https://bcdcnt.net/bai-hat/dat-nuoc-tron-niem-vui-512.html",thongtinthem:""}],player=new Howl({src:[songs[currentSongIndex].src],html5:!0,onend:function(){nextSong(),updateSongInfo()}});openPlayerBtn.addEventListener("click",openPlayer),closeButton.addEventListener("click",closePlayer),prevButton.addEventListener("click",prevSong),playButton.addEventListener("click",togglePlay),nextButton.addEventListener("click",nextSong);let isFirstOpen=!0;function openPlayer(){playerModal.classList.add("is-active"),playerModal.classList.add("fadeInSlow"),isFirstOpen&&(updateSongInfo(),slowVolumeUp(),isFirstOpen=!1),player.pause()&&(playSong(),playIcon.className="fas fa-pause")}function togglePlay(){player.playing()?(player.pause(),playIcon.className="fas fa-play"):(playSong(),playIcon.className="fas fa-pause")}function loadSong(e){currentSongIndex=e,player.stop(),player=new Howl({src:[songs[currentSongIndex].src],html5:!0,volume:currentVolume,onend:function(){nextSong()}}),updateSongInfo(),playSong(),playIcon.className="fas fa-pause"}function prevSong(){loadSong((currentSongIndex-1+songs.length)%songs.length)}function nextSong(){loadSong((currentSongIndex+1)%songs.length)}function skip10SecondsForward(){skipSeconds(10)}function skip10SecondsBackward(){skipSeconds(-10)}function skipSeconds(e){let n=player.seek();player.seek(n+e),updateSongProgressBar()}function updateSongInfo(){let e=songs[currentSongIndex];songTitle.innerHTML=`${e.title}`,songComposer.innerHTML=`${e.composer}`,songPerformer.innerHTML=`${e.performer}`,sourceButton.href=`${e.nguon}`}function closePlayer(){playerModal.classList.remove("is-active")}playerModal.addEventListener("click",function(e){e.target.matches("#skipForwardButton")?skip10SecondsForward():e.target.matches("#skipBackwardButton")&&skip10SecondsBackward()});let currentVolume=.3;function setVolume(e){player.volume(e),volumeSlider.value=100*e,currentVolume=e}function handleVolumeInput(){setVolume(parseFloat(volumeSlider.value)/100)}function handleVolumeWheel(e){e.preventDefault();let n=Math.max(-1,Math.min(1,e.deltaY||-e.detail));setVolume(Math.max(0,Math.min(1,currentVolume-.05*Math.sign(n))))}function slowVolumeUp(){let e=(.7-currentVolume)/90,n=setInterval(()=>{setVolume(currentVolume=Math.min(1,currentVolume+=e)),currentVolume>=.7&&clearInterval(n)},10)}function updateSongProgressBar(){let e=player.seek(),n=player.duration();progressBar.style.width=e/n*100+"%",timer.textContent=`${formatTime(e)} / ${formatTime(n)}`}function playSong(){player.play(),updateSongProgressBar();let e=setInterval(()=>{updateSongProgressBar(),player.playing()||clearInterval(e)},1e3)}function formatTime(e){let n=Math.floor(e%60);return`${Math.floor(e/60)}:${10>n?"0":""}${n}`}volumeSlider.addEventListener("input",handleVolumeInput),volumeSlider.addEventListener("wheel",handleVolumeWheel),player.on("play",()=>{requestAnimationFrame(updateSongProgressBar)}),document.getElementById("openChangelog").addEventListener("click",function(){document.getElementById("changelogModal").classList.add("is-active")}),document.getElementById("closeChangelog").addEventListener("click",function(){document.getElementById("changelogModal").classList.remove("is-active")}),console.log("%cTrang web được thực hiện với mục đích học tập của cá nhân trong sự biết ơn tới những người chiến sĩ, những người mẹ Việt Nam anh hùng, những người đã góp sức thống nhất toàn vẹn lãnh thổ đất nước Việt Nam!",'color: yellow; font-size:20px; background-color:red; font-family: "Roboto Slab", serif; font-weight:600;');